
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Documentation for use of EdgeX Foundry" name="description"/>
<meta content="Michael Johanson" name="author"/>
<link href="https://docs.edgexfoundry.org/3.0/microservices/application/V2Migration/" rel="canonical"/>
<link href="../../../assets/logo_edgex.png" rel="icon"/>
<meta content="mkdocs-1.4.3, mkdocs-material-8.5.8" name="generator"/>
<title>V2 Migration Guide - EdgeX Foundry Documentation</title>
<link href="../../../assets/stylesheets/main.20d9efc8.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.815d1a91.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../assets/stylesheets/version-select.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/branding.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/edgey.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/newexample.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-38531ZZHBN"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-38531ZZHBN",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-38531ZZHBN",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
<script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
</head>
<body data-md-color-accent="none" data-md-color-primary="none" data-md-color-scheme="" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#v2-migration-guide">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="EdgeX Foundry Documentation" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="EdgeX Foundry Documentation">
<img alt="logo" src="../../../assets/logo_edgex_white.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            EdgeX Foundry Documentation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              V2 Migration Guide
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/edgexfoundry/edgex-go" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    edgex/edgex-go
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
        Introduction
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../getting-started/">
        Getting Started
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../security/Ch-Security/">
        Security
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../../general/">
        Microservices
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../examples/">
        Examples and Tutorials
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../api/Ch-APIIntroduction/">
        API Reference
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../design/Process/">
        Use Cases &amp; Designs
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../general/Definitions/">
        Reference
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="EdgeX Foundry Documentation" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="EdgeX Foundry Documentation">
<img alt="logo" src="../../../assets/logo_edgex_white.png"/>
</a>
    EdgeX Foundry Documentation
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/edgexfoundry/edgex-go" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    edgex/edgex-go
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1">
          Introduction
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Introduction" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../V2TopLevelMigration/">
        V2 Migration Guide
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Getting Started" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/">
        Getting Started
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/quick-start/">
        Quick Start
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3">
          Users
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Users" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
          Users
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedUsers/">
        Getting Started as a User
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedDockerUsers/">
        Getting Started using Docker
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedSnapUsers/">
        Getting Started using Snaps
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4">
          Developers
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Developers" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
          Developers
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedDevelopers/">
        Getting Started as a Developer
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedGoDevelopers/">
        Getting Started - Go Developers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedCDevelopers/">
        Getting Started - C Developers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedHybrid/">
        Working in a Hybrid Environment
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4_5" id="__nav_2_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4_5">
          Native Build and Run Guides
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Native Build and Run Guides" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_4_5">
<span class="md-nav__icon md-icon"></span>
          Native Build and Run Guides
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/native/Ch-BuildRunNative/">
        Native Build and Run
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/native/Ch-BuildRunOnLinuxDistro/">
        Build and Run on Linux on x86/x64
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/native/Ch-BuildRunOnArm32/">
        Build and Run on Linux on ARM 32
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/native/Ch-BuildRunOnWindows/">
        Build and Run on Windows on x86/x64
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/ApplicationFunctionsSDK/">
        Application Functions SDK
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4_7" id="__nav_2_4_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4_7">
          Device Services
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Device Services" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_4_7">
<span class="md-nav__icon md-icon"></span>
          Device Services
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedSDK/">
        Device Service SDK
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedSDK-C/">
        C SDK
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedSDK-Go/">
        Golang SDK
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedUsersNexus/">
        Getting Docker Images from EdgeX Nexus Repository
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/Ch-GettingStartedDTOValidation/">
        DTO Validation
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" id="__nav_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5">
          Tools
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Tools" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
          Tools
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/tools/Ch-CommandLineInterface/">
        Command Line Interface (CLI)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getting-started/tools/Ch-GUI/">
        Graphical User Interface (GUI)
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Security
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Security" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Security
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-Security/">
        Security
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-SecretStore/">
        Secret Store
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-Authenticating/">
        Authenticating to EdgeX Microservices
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-SecretProviderApi/">
        Secret Provider API
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-APIGateway/">
        API Gateway
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-Secure-MessageBus/">
        Secure MessageBus
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-Configuring-Add-On-Services/">
        Configuring Add-on Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-Secure-Consul/">
        Secure Consul
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-SecurityIssues/">
        Reporting Security Issues
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/secrets-config/">
        Secrets config
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/secrets-config-proxy/">
        Secrets config proxy
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/SeedingServiceSecrets/">
        Seeding Service Secrets
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-CORS-Settings/">
        CORS settings
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-DelayedStartServices/">
        Delayed-Start Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../security/Ch-RemoteDeviceServices/">
        Remote Device Services in Secure Mode
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_16" id="__nav_3_16" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_16">
          Threat Models
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Threat Models" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_16">
<span class="md-nav__icon md-icon"></span>
          Threat Models
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../threat-models/secret-store/">
        EdgeX Foundry Secret Management Threat Model
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../threat-models/stride-model/EdgeX-STRIDE/">
        EdgeX Foundry STRIDE Threat Model
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../threat-models/stride-model/EdgeXFoundryThreatReportV2.2/">
        Threat Modeling Report
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          Microservices
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Microservices" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Microservices
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../general/">
        Cross Cutting Concerns
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2">
          Configuration &amp; Registry
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Configuration &amp; Registry" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
          Configuration &amp; Registry
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../configuration/CommonConfiguration/">
        Service Configuration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../configuration/CommonCommandLineOptions/">
        Command Line Options
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../configuration/CommonEnvironmentVariables/">
        Environment Variables
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../configuration/ConfigurationAndRegistry/">
        Configuration and Registry Providers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../configuration/V3MigrationCommonConfig/">
        V3 Migration of Common Configuration
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../general/messagebus/">
        EdgeX MessageBus
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" id="__nav_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_4">
          Core Services
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Core Services" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
          Core Services
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../core/Ch-CoreServices/">
        Core Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../core/data/Ch-CoreData/">
        Core Data
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../core/metadata/Ch-Metadata/">
        Core Metadata
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../core/command/Ch-Command/">
        Core Command
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../core/database/Ch-Redis/">
        Redis Database
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" id="__nav_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_5">
          Supporting Services
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Supporting Services" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
          Supporting Services
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../support/Ch-SupportingServices/">
        Supporting Services Microservices
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../support/notifications/Ch-AlertsNotifications/">
        Support Notifications
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../support/scheduler/Ch-Scheduler/">
        Support Scheduler
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../support/eKuiper/Ch-eKuiper/">
        eKuiper Rules Engine
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" id="__nav_4_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6">
          Devices Services
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Devices Services" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_6">
<span class="md-nav__icon md-icon"></span>
          Devices Services
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/Ch-DeviceServices/">
        Device Services Microservices
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/profile/Ch-DeviceProfile/">
        Device Profile
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/sdk/Ch-DeviceSDK/">
        Device Services SDK
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_4" id="__nav_4_6_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_4">
          Device SDK API
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Device SDK API" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_6_4">
<span class="md-nav__icon md-icon"></span>
          Device SDK API
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/sdk/SDK-Go-API/">
        Go Device SDK API
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5" id="__nav_4_6_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_5">
          Supported Device Services
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Supported Device Services" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_6_5">
<span class="md-nav__icon md-icon"></span>
          Supported Device Services
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/Ch-DeviceServiceList/">
        Supported Device Services List
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5_2" id="__nav_4_6_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_5_2">
          Device Onvif Camera
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Device Onvif Camera" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_4_6_5_2">
<span class="md-nav__icon md-icon"></span>
          Device Onvif Camera
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/General/">
        General
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5_2_2" id="__nav_4_6_5_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_5_2_2">
          Walkthrough
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Walkthrough" class="md-nav" data-md-level="5">
<label class="md-nav__title" for="__nav_4_6_5_2_2">
<span class="md-nav__icon md-icon"></span>
          Walkthrough
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/Walkthrough/setup/">
        Setup
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/Walkthrough/deployment/">
        Deployment
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/Walkthrough/general-usage/">
        General Usage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/Walkthrough/custom-build/">
        Custom Build
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5_2_3" id="__nav_4_6_5_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_5_2_3">
          Supplementary Information
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Supplementary Information" class="md-nav" data-md-level="5">
<label class="md-nav__title" for="__nav_4_6_5_2_3">
<span class="md-nav__icon md-icon"></span>
          Supplementary Information
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5_2_3_1" id="__nav_4_6_5_2_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_5_2_3_1">
          ONVIF Protocol
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="ONVIF Protocol" class="md-nav" data-md-level="6">
<label class="md-nav__title" for="__nav_4_6_5_2_3_1">
<span class="md-nav__icon md-icon"></span>
          ONVIF Protocol
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/ONVIF-protocol/">
        Onvif Camera Device Service Specifications
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/onvif-user-authentication/">
        Onvif User Authentication
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5_2_3_2" id="__nav_4_6_5_2_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_5_2_3_2">
          Features
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Features" class="md-nav" data-md-level="6">
<label class="md-nav__title" for="__nav_4_6_5_2_3_2">
<span class="md-nav__icon md-icon"></span>
          Features
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/custom-metadata-feature/">
        Custom Metadata
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/friendlyname-mac/">
        Friendly Name and MAC Address
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/device-status/">
        Device Status
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/auto-discovery/">
        Auto Discovery
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/credentials/">
        Credentials
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/reboot-needed/">
        RebootNeeded
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5_2_3_3" id="__nav_4_6_5_2_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_5_2_3_3">
          API Reference
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="API Reference" class="md-nav" data-md-level="6">
<label class="md-nav__title" for="__nav_4_6_5_2_3_3">
<span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/api-analytic-support/">
        Analytic Support
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/api-event-handling/">
        Event Handling
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/api-usage-user-handling/">
        User Handling
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5_2_3_4" id="__nav_4_6_5_2_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_5_2_3_4">
          Utility
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Utility" class="md-nav" data-md-level="6">
<label class="md-nav__title" for="__nav_4_6_5_2_3_4">
<span class="md-nav__icon md-icon"></span>
          Utility
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/test-with-postman/">
        Test with Postman
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/utility-scripts/">
        Utility Scripts
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5_2_3_5" id="__nav_4_6_5_2_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_5_2_3_5">
          Miscellaneous
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Miscellaneous" class="md-nav" data-md-level="6">
<label class="md-nav__title" for="__nav_4_6_5_2_3_5">
<span class="md-nav__icon md-icon"></span>
          Miscellaneous
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/control-plane-events/">
        Control Plane Events
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/getting-started-with-docker-security/">
        Getting Started With Docker (Security Mode)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/ws-discovery/">
        How does WS-Discovery work?
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-onvif-camera/supplementary-info/onvif-footnotes/">
        ONVIF Footnotes
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5_3" id="__nav_4_6_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6_5_3">
          Device Virtual
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Device Virtual" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_4_6_5_3">
<span class="md-nav__icon md-icon"></span>
          Device Virtual
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/supported/device-virtual/Ch-VirtualDevice/">
        Device Virtual
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../device/V2Migration/">
        V2 Migration Guide
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" id="__nav_4_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_7">
          Application Services
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Application Services" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_7">
<span class="md-nav__icon md-icon"></span>
          Application Services
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../ApplicationServices/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../GettingStarted/">
        Getting Started
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Triggers/">
        Triggers
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7_4" id="__nav_4_7_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_7_4">
          Application Functions SDK
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Application Functions SDK" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_7_4">
<span class="md-nav__icon md-icon"></span>
          Application Functions SDK
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../ApplicationFunctionsSDK/">
        App Functions SDK Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ApplicationServiceAPI/">
        Application Service API
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../AppFunctionContextAPI/">
        App Function Context API
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ErrorHandling/">
        Pipeline Function Error Handling
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../BuiltIn/">
        Built-In Pipeline Functions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../AdvancedTopics/">
        Advanced Topics
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../AppServiceConfigurable/">
        App Service Configurable
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../GeneralAppServiceConfig/">
        Application Service Configuration
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          V2 Migration Guide
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        V2 Migration Guide
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#custom-application-services">
    Custom Application Services
  </a>
<nav aria-label="Custom Application Services" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
<nav aria-label="Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#secretstoreexclusive">
    SecretStoreExclusive
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#clients">
    Clients
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#trigger">
    Trigger
  </a>
<nav aria-label="Trigger" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#edgex-messagebus">
    EdgeX MessageBus
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#external-mqtt">
    External MQTT
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#http">
    HTTP
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#code">
    Code
  </a>
<nav aria-label="Code" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependencies">
    Dependencies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#new-apis">
    New APIs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#main">
    main()
  </a>
<nav aria-label="main()" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create-and-initialize">
    Create and Initialize
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logging-client">
    Logging Client
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#application-settings">
    Application Settings
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#functions-pipeline">
    Functions Pipeline
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#makeitrun">
    MakeItRun
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#custom-pipeline-functions">
    Custom Pipeline Functions
  </a>
<nav aria-label="Custom Pipeline Functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pipeline-function-signature">
    Pipeline Function signature
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#return-values">
    Return Values
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data">
    Data
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logging-client_1">
    Logging Client
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#clients_1">
    Clients
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#responsedata">
    ResponseData
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#responsecontenttype">
    ResponseContentType
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#retrydata">
    RetryData
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#markaspushed">
    MarkAsPushed
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pushtocore">
    PushToCore
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#new-capabilities">
    New Capabilities
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#app-service-configurable-profiles">
    App Service Configurable Profiles
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
          Examples and Tutorials
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Examples and Tutorials" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Examples and Tutorials
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/">
        EdgeX Examples
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/Ch-ExamplesVirtualDeviceService/">
        Using the Virtual Device Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/Ch-ExamplesUsbDeviceService/">
        USB Camera Device Service RTSP Streaming Guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/Ch-ExamplesSendingAndConsumingBinary/">
        Sending and Consuming Binary Data From EdgeX Device Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/AppServiceExamples/">
        App Service Examples
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/Ch-CommandingDeviceThroughRulesEngine/">
        Command Devices with eKuiper Rules Engine
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/Ch-ExamplesModbusdatatypeconversion/">
        Modbus - Data Type Conversion
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/Ch-OSImageWithEdgeX/">
        Creating an EdgeX OS Image
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_9" id="__nav_5_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_9">
          Adding a Device
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Adding a Device" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_9">
<span class="md-nav__icon md-icon"></span>
          Adding a Device
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/Ch-ExamplesAddingModbusDevice/">
        Modbus
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/Ch-ExamplesAddingSNMPDevice/">
        SNMP
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/Ch-ExamplesAddingMQTTDevice/">
        MQTT
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_10" id="__nav_5_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_10">
          Walkthrough
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Walkthrough" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_10">
<span class="md-nav__icon md-icon"></span>
          Walkthrough
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../walk-through/Ch-Walkthrough/">
        EdgeX Demonstration API Walk Through
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../walk-through/Ch-WalkthroughSetup/">
        Setup up your environment
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../walk-through/Ch-WalkthroughUseCase/">
        Example Use Case
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../walk-through/Ch-WalkthroughDeviceProfile/">
        Defining your device
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../walk-through/Ch-WalkthroughDeviceService/">
        Register your device service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../walk-through/Ch-WalkthroughProvision/">
        Provision a device
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../walk-through/Ch-WalkthroughCommands/">
        Calling commands
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../walk-through/Ch-WalkthroughReading/">
        Sending events and reading data
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../walk-through/Ch-WalkthroughExporting/">
        Exporting your device data
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
          API Reference
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="API Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/Ch-APIIntroduction/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/core/Ch-APICoreCommand/">
        Core Command
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/core/Ch-APICoreData/">
        Core Data
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/core/Ch-APICoreMetadata/">
        Core Metadata
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/core/Ch-APICoreConfigurationAndRegistry/">
        Configuration and Registry
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/support/Ch-APISupportNotifications/">
        Support Notifications
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/support/Ch-APISupportScheduler/">
        Support Scheduler
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/devices/Ch-APIDeviceSDK/">
        Device Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/applications/Ch-APIAppFunctionsSDK/">
        Application Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../api/applications/Ch-APIRulesEngine/">
        Rules Engine
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7">
          Use Cases &amp; Designs
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Use Cases &amp; Designs" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          Use Cases &amp; Designs
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../design/Process/">
        Use Cases and Design Process
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../design/TOC/">
        Use Cases and Design Records
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" id="__nav_7_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_3">
          Legacy
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Legacy" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_3">
<span class="md-nav__icon md-icon"></span>
          Legacy
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../design/legacy-design/">
        Legacy Design Documents
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../design/legacy-requirements/">
        Legacy Requirements
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8">
          Reference
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          Reference
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../general/Definitions/">
        Definitions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../general/PlatformRequirements/">
        Platform Requirements
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../general/ServicePorts/">
        Default Service Ports
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../general/ContainerNames/">
        EdgeX Container Names
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../general/ServiceConfiguration/">
        Service Configuration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../general/EdgeX_CN/">
        Is EdgeX Foundry Cloud Native?
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#custom-application-services">
    Custom Application Services
  </a>
<nav aria-label="Custom Application Services" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
<nav aria-label="Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#secretstoreexclusive">
    SecretStoreExclusive
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#clients">
    Clients
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#trigger">
    Trigger
  </a>
<nav aria-label="Trigger" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#edgex-messagebus">
    EdgeX MessageBus
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#external-mqtt">
    External MQTT
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#http">
    HTTP
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#code">
    Code
  </a>
<nav aria-label="Code" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependencies">
    Dependencies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#new-apis">
    New APIs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#main">
    main()
  </a>
<nav aria-label="main()" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create-and-initialize">
    Create and Initialize
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logging-client">
    Logging Client
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#application-settings">
    Application Settings
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#functions-pipeline">
    Functions Pipeline
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#makeitrun">
    MakeItRun
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#custom-pipeline-functions">
    Custom Pipeline Functions
  </a>
<nav aria-label="Custom Pipeline Functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#pipeline-function-signature">
    Pipeline Function signature
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#return-values">
    Return Values
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data">
    Data
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logging-client_1">
    Logging Client
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#clients_1">
    Clients
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#responsedata">
    ResponseData
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#responsecontenttype">
    ResponseContentType
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#retrydata">
    RetryData
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#markaspushed">
    MarkAsPushed
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pushtocore">
    PushToCore
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#new-capabilities">
    New Capabilities
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#app-service-configurable-profiles">
    App Service Configurable Profiles
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/edgexfoundry/edgex-go/edit/master/docs/microservices/application/V2Migration.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"></path></svg>
</a>
<h1 id="v2-migration-guide">V2 Migration Guide</h1>
<h2 id="custom-application-services">Custom Application Services</h2>
<h3 id="configuration">Configuration</h3>
<p>The migration of any Application Service's configuration starts with migrating configuration common to all EdgeX services. See the <a href="../../configuration/V2MigrationCommonConfig">V2 Migration of Common Configuration</a> section for details. The remainder of this section focuses on configuration specific to Application Services.</p>
<h4 id="secretstoreexclusive">SecretStoreExclusive</h4>
<p>The <code>SecretStoreExclusive</code> section has been removed in EdgeX 2.0. With EdgeX 2.0 all SecretStores are exclusive, so the existing <code>SecretStore</code> section is all that is required. Services requiring <code>known secrets</code> such as <code>redisdb</code> must inform the <code>Security SecretStore Setup</code> service (via environment variables) that the application service requires the secret added to its SecretStore. See the <a href="../../../security/Ch-Configuring-Add-On-Services">Configuring Add-on Services</a> section for more details.</p>
<h4 id="clients">Clients</h4>
<p>The client used for the version validation check has changed to being from Core Metadata, rather than Core Data. This is because Core Data is now optional when persistence isn't required since all Device Services publish directly to the EdgeX MessageBus. The configuration for Core Metadata is the only <code>Clients</code> entry required, all other (see below) are optional based on use case needs. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The port numbers for all EdgeX services have changed which must be reflected in the <code>Clients</code> configuration. Please see the <a href="../../../general/ServicePorts">Default Service Ports</a> section for complete list of the new port assignments. </p>
</div>
<div class="admonition example">
<p class="admonition-title">Example - Core Metadata client configuration</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="k">[Clients]</span>
<span class="w">    </span><span class="k">[Clients.core-metadata]</span>
<span class="w">    </span><span class="n">Protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"http"</span>
<span class="w">    </span><span class="n">Host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"localhost"</span>
<span class="w">    </span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">59881</span>
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Example - All available clients configured with new port numbers</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="k">[Clients]</span>
<span class="w">    </span><span class="c1"># Used for version check on start-up</span>
<span class="w">    </span><span class="c1"># Also used for DeviceService, DeviceProfile and Device clients</span>
<span class="w">    </span><span class="k">[Clients.core-metadata]</span>
<span class="w">    </span><span class="n">Protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"http"</span>
<span class="w">    </span><span class="n">Host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"localhost"</span>
<span class="w">    </span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">59881</span>

<span class="w">    </span><span class="c1"># Used for Event client which is used by PushToCoreData function</span>
<span class="w">    </span><span class="k">[Clients.core-data]</span>
<span class="w">    </span><span class="n">Protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"http"</span>
<span class="w">    </span><span class="n">Host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"localhost"</span>
<span class="w">    </span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">59880</span>

<span class="w">    </span><span class="c1"># Used for Command client</span>
<span class="w">    </span><span class="k">[Clients.core-command]</span>
<span class="w">    </span><span class="n">Protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"http"</span>
<span class="w">    </span><span class="n">Host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"localhost"</span>
<span class="w">    </span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">59882</span>

<span class="w">    </span><span class="c1"># Used for Notification and Subscription clients</span>
<span class="w">    </span><span class="k">[Clients.support-notifications]</span>
<span class="w">    </span><span class="n">Protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"http"</span>
<span class="w">    </span><span class="n">Host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"localhost"</span>
<span class="w">    </span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">59860</span>
</code></pre></div>
</div>
<h4 id="trigger">Trigger</h4>
<p>The <code>Trigger</code> section (previously named <code>Binding</code>) has been restructured with <code>EdgexMessageBus</code> (previously named <code>MessageBus</code>) and <code>ExternalMqtt</code> (previously named <code>MqttBroker</code> ) moved under it. The <code>SubscribeTopics</code> (previously named <code>SubscribeTopic</code>) has been moved under the <code>EdgexMessageBus.SubscribeHost</code> and <code>ExternalMqtt</code> sections. The <code>PublishTopic</code> has been moved under the <code>EdgexMessageBus.PublishHost</code> and <code>ExternalMqtt</code> sections.</p>
<h5 id="edgex-messagebus">EdgeX MessageBus</h5>
<p>If your Application Service is using the EdgeX MessageBus trigger, you can then simply copy the complete <code>Trigger</code> configuration from the example below and tweak it as needed. </p>
<div class="admonition example">
<p class="admonition-title">Example - EdgeX MessageBus trigger configuration</p>
<div class="highlight"><pre><span></span><code><span class="k">[Trigger]</span>
<span class="n">Type</span><span class="o">=</span><span class="s">"edgex-messagebus"</span>
<span class="w">  </span><span class="k">[Trigger.EdgexMessageBus]</span>
<span class="w">  </span><span class="n">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"redis"</span>
<span class="w">    </span><span class="k">[Trigger.EdgexMessageBus.SubscribeHost]</span>
<span class="w">    </span><span class="n">Host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"localhost"</span>
<span class="w">    </span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6379</span>
<span class="w">    </span><span class="n">Protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"redis"</span>
<span class="w">    </span><span class="n">SubscribeTopics</span><span class="o">=</span><span class="s">"edgex/events/#"</span>
<span class="w">    </span><span class="k">[Trigger.EdgexMessageBus.PublishHost]</span>
<span class="w">    </span><span class="n">Host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"localhost"</span>
<span class="w">    </span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6379</span>
<span class="w">    </span><span class="n">Protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"redis"</span>
<span class="w">    </span><span class="n">PublishTopic</span><span class="o">=</span><span class="s">"example"</span>
<span class="w">    </span><span class="k">[Trigger.EdgexMessageBus.Optional]</span>
<span class="w">    </span><span class="n">AuthMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"usernamepassword"</span><span class="w">  </span><span class="c1"># required for redis messagebus (secure or insecure).</span>
<span class="w">    </span><span class="n">SecretName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"redisdb"</span>
</code></pre></div>
</div>
<p>From the above example you can see the improved structure and the following changes:</p>
<ul>
<li>Default <code>EdgexMessageBus</code> type has changed from <code>ZeroMQ</code> to <code>Redis</code>.</li>
<li>Type value for <code>Redis</code> has changed from <code>redistreams</code> to <code>redis</code>. This is because the implementation no longer uses Redis Streams. It now uses Redis Pub/Sub.</li>
<li><code>SubscribeTopics</code> is now plural since it now accepts a comma separated list of topics. The default value uses a multi-level topic with a wild card. This is because Core Data and Device Services now publish to a multi-level topics which have<code>edgex/events</code> as their base. This allows Application Services to filter by topic rather then receive the data and then filter it out via a pipeline filter function. See the <a href="../Triggers/#filter-by-topics">Filter By Topics</a> section for more details.</li>
<li>The EdgeX MessageBus using Redis is a Secure MessageBus, thus the addition of the <code>AuthMode</code> and <code>SecretName</code> settings which allow the credentials to be pulled from the service's SecretStore. See the <a href="../../../security/Ch-Secure-MessageBus">Secure MessageBus</a> secure for more details.</li>
</ul>
<h5 id="external-mqtt">External MQTT</h5>
<p>If your Application service is using the <strong>External MQTT</strong> trigger do the following:</p>
<ol>
<li>Move your existing <code>MqttBroker</code> configuration under the <code>Trigger</code> section (renaming it to <code>ExternalMqtt</code>)</li>
<li>Move your <code>SubscribeTopic</code> (renaming it to <code>SubscribeTopics</code>) under the <code>ExternalMqtt</code> section.</li>
<li>Move your <code>PublishTopic</code> under the <code>ExternalMqtt</code> section.</li>
</ol>
<div class="admonition example">
<p class="admonition-title">Example - External MQTT trigger configuration</p>
<div class="highlight"><pre><span></span><code><span class="k">[Trigger]</span>
<span class="n">Type</span><span class="o">=</span><span class="s">"external-mqtt"</span>
<span class="w">  </span><span class="k">[Trigger.ExternalMqtt]</span>
<span class="w">  </span><span class="n">Url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"tcp://broker.hivemq.com:1883"</span>
<span class="w">  </span><span class="n">SubscribeTopics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"edgex-trigger"</span>
<span class="w">  </span><span class="n">PublishTopic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"edgex-trigger-response"</span>
<span class="w">  </span><span class="n">ClientId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"app-my-service"</span>
<span class="w">  </span><span class="n">ConnectTimeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"30s"</span>
<span class="w">  </span><span class="n">AutoReconnect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="n">KeepAlive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">60</span>
<span class="w">  </span><span class="n">QoS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">  </span><span class="n">Retain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="n">SkipCertVerify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="n">SecretPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">""</span>
<span class="w">  </span><span class="n">AuthMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"none"</span>
</code></pre></div>
</div>
<h5 id="http">HTTP</h5>
<p>The HTTP trigger configuration has not changed beyond the renaming of <code>Binding</code> to <code>Trigger</code>.</p>
<div class="admonition example">
<p class="admonition-title">Example - HTTP trigger configuration</p>
<div class="highlight"><pre><span></span><code><span class="k">[Trigger]</span>
<span class="n">Type</span><span class="o">=</span><span class="s">"http"</span>
</code></pre></div>
</div>
<h3 id="code">Code</h3>
<h4 id="dependencies">Dependencies</h4>
<p>You first need to update the <code>go.mod</code> file to specify <code>go 1.16</code> and the V2 versions of the App Functions SDK and any EdgeX go-mods directly used by your service. Note the extra <code>/v2</code> for the modules.</p>
<div class="admonition example">
<p class="admonition-title">Example go.mod for V2</p>
<div class="highlight"><pre><span></span><code><span class="nx">module</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">your</span><span class="w"> </span><span class="nx">service</span><span class="p">&gt;</span>

<span class="k">go</span><span class="w"> </span><span class="mf">1.16</span>

<span class="nx">require</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="nx">github</span><span class="p">.</span><span class="nx">com</span><span class="o">/</span><span class="nx">edgexfoundry</span><span class="o">/</span><span class="nx">app</span><span class="o">-</span><span class="nx">functions</span><span class="o">-</span><span class="nx">sdk</span><span class="o">-</span><span class="k">go</span><span class="o">/</span><span class="nx">v2</span><span class="w"> </span><span class="nx">v2</span><span class="mf">.0.0</span>
<span class="w">    </span><span class="nx">github</span><span class="p">.</span><span class="nx">com</span><span class="o">/</span><span class="nx">edgexfoundry</span><span class="o">/</span><span class="k">go</span><span class="o">-</span><span class="nx">mod</span><span class="o">-</span><span class="nx">core</span><span class="o">-</span><span class="nx">contracts</span><span class="o">/</span><span class="nx">v2</span><span class="w"> </span><span class="nx">v2</span><span class="mf">.0.0</span>
<span class="p">)</span>
</code></pre></div>
</div>
<p>Once that is complete then the import statements for these dependencies must be updated to include the <code>/v2</code> in the path. </p>
<div class="admonition example">
<p class="admonition-title">Example import statements for V2</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">...</span>

<span class="w">    </span><span class="s">"github.com/edgexfoundry/app-functions-sdk-go/v2/pkg/interfaces"</span>
<span class="w">    </span><span class="s">"github.com/edgexfoundry/go-mod-core-contracts/v2/dtos"</span>
<span class="p">)</span>
</code></pre></div>
</div>
<h4 id="new-apis">New APIs</h4>
<p>Next changes you will encounter in your code are that the <code>AppFunctionsSDK</code> and <code>Context</code> structs have been abstracted into the new <code>ApplicationService</code> and <code>AppFunctionContext</code> APIs. See the <a href="../ApplicationServiceAPI">Application Service API</a> and <a href="../AppFunctionContextAPI">App Function Context API</a> sections for complete details on these new APIs. The following sections cover migrating your code for these new APIs.</p>
<h4 id="main">main()</h4>
<p>The following changes to your <code>main()</code> function will be necessary.</p>
<h5 id="create-and-initialize">Create and Initialize</h5>
<p>Your <code>main()</code> will change to use a factory function to create and initialize the Application Service instance, rather than create instance of <code>AppFunctionsSDK</code> and call <code>Initialize()</code> </p>
<div class="admonition example">
<p class="admonition-title">Example - Create Application Service instance</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">serviceKey</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"app-myservice"</span>
<span class="w">    </span><span class="o">...</span>

<span class="w">    </span><span class="nx">service</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">pkg</span><span class="p">.</span><span class="nx">NewAppService</span><span class="p">(</span><span class="nx">serviceKey</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">os</span><span class="p">.</span><span class="nx">Exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Example - Create Application Service instance with Target Type specified</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">serviceKey</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"app-myservice"</span>
<span class="w">    </span><span class="o">...</span>

<span class="w">    </span><span class="nx">service</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">pkg</span><span class="p">.</span><span class="nx">NewAppServiceWithTargetType</span><span class="p">(</span><span class="nx">serviceKey</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[]</span><span class="kt">byte</span><span class="p">{})</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">os</span><span class="p">.</span><span class="nx">Exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
</div>
<p>Since the factory function logs all errors, all you need to do is exit if it returns <code>false</code>. </p>
<h5 id="logging-client">Logging Client</h5>
<p>The <code>Logging</code> client is now accessible from the <code>service.LoggingClient()</code> API. </p>
<div class="admonition note">
<p class="admonition-title">New extended Logging Client API</p>
<p>The Logging Client API now has <code>formatted</code> versions of all the logging APIs, which are <code>Infof</code>, <code>Debugf</code>, <code>Tracef</code>, <code>Warnf</code>and <code>Errorf</code>. If your code uses <code>fmt.Sprintf</code> to format your log messages then it can now be simplified by using these new APIs.</p>
</div>
<h5 id="application-settings">Application Settings</h5>
<p>The access functions for retrieving the service's custom Application Settings (<code>ApplicationSettings</code>, <code>GetAppSettingStrings</code>,  and <code>GetAppSetting</code> ) have not changed. An improved capability to have structured custom configuration has been added. See the <a href="../AdvancedTopics/#structure-custom-configuration">Structure Custom Configuration</a> section for more details.</p>
<h5 id="functions-pipeline">Functions Pipeline</h5>
<p>Setting the  Functions Pipeline has not changed, but the name of some built in functions have changed and new ones have been added. See the <a href="../BuiltIn">Built-In Pipeline Functions</a> section for more details.</p>
<div class="admonition example">
<p class="admonition-title">Example - Setting Functions Pipeline</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">SetFunctionsPipeline</span><span class="p">(</span>
<span class="w">    </span><span class="nx">transforms</span><span class="p">.</span><span class="nx">NewFilterFor</span><span class="p">(</span><span class="nx">deviceNames</span><span class="p">).</span><span class="nx">FilterByDeviceName</span><span class="p">,</span>
<span class="w">    </span><span class="nx">transforms</span><span class="p">.</span><span class="nx">NewConversion</span><span class="p">().</span><span class="nx">TransformToXML</span><span class="p">,</span>
<span class="w">    </span><span class="nx">transforms</span><span class="p">.</span><span class="nx">NewHTTPSender</span><span class="p">(</span><span class="nx">exportUrl</span><span class="p">,</span><span class="w"> </span><span class="s">"application/xml"</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">).</span><span class="nx">HTTPPost</span><span class="p">,</span>
<span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">lc</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">"SetFunctionsPipeline returned error: %s"</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">.</span><span class="nx">Error</span><span class="p">())</span>
<span class="w">    </span><span class="nx">os</span><span class="p">.</span><span class="nx">Exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
<h5 id="makeitrun">MakeItRun</h5>
<p>The <code>MakeItRun</code> API has not changed.</p>
<div class="admonition example">
<p class="admonition-title">Example - Call to MakeItRun</p>
<div class="highlight"><pre><span></span><code><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">MakeItRun</span><span class="p">()</span>
<span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">lc</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">"MakeItRun returned error: %s"</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">.</span><span class="nx">Error</span><span class="p">())</span>
<span class="w">    </span><span class="nx">os</span><span class="p">.</span><span class="nx">Exit</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
<h4 id="custom-pipeline-functions">Custom Pipeline Functions</h4>
<h5 id="pipeline-function-signature">Pipeline Function signature</h5>
<p>The major change to custom Pipeline Functions for EdgeX 2.0 is the new function signature which drives all the other changes.</p>
<div class="admonition example">
<p class="admonition-title">Example - New Pipeline Function signature</p>
<div class="highlight"><pre><span></span><code><span class="kd">type</span><span class="w"> </span><span class="nx">AppFunction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">AppFunctionContext</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="kd">interface</span><span class="p">{})</span>
</code></pre></div>
</div>
<p>This function signature passes in an instance of the new AppFunctionContext API for the context and now has only a single <code>data</code> instance for the function to operate on.</p>
<h5 id="return-values">Return Values</h5>
<p>The definitions for the Pipeline Function return values have not changed.</p>
<h5 id="data">Data</h5>
<p>The <code>data</code> passed in is set either to a data object for the function to process or nil.  Check the length of the incoming data is no longer needed. The default <code>TargetType</code> for pipeline functions has changed from <code>models.Event</code> to <code>dtos.Event</code>. The data type should be validated to ensure the data received is the type the function expects to process.</p>
<div class="admonition example -">
<p class="admonition-title">Example - Validating data before processing</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">"No Data Received"</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">event</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">data</span><span class="p">.(</span><span class="nx">dtos</span><span class="p">.</span><span class="nx">Event</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">"data type received is not an Event"</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>models.Event</code> still exists, but is for internal use only for those services that persist the <code>Events</code> to a database.</p>
</div>
<h5 id="logging-client_1">Logging Client</h5>
<p>The <code>Logging</code> client is now accessible from the <code>ctx.LoggingClient()</code> API. </p>
<h5 id="clients_1">Clients</h5>
<p>The available clients have changed with a few additions and <code>ValueDescriptorClient</code> has been removed. See the <a href="../AppFunctionContextAPI/#clients">Context Clients</a> section for complete list of available clients.</p>
<h5 id="responsedata">ResponseData</h5>
<p>The <code>SetResponseData</code> and <code>ResponseData</code> APIs replace the previous <code>Complete</code> function and direct access to the <code>OutputData</code> field.</p>
<h5 id="responsecontenttype">ResponseContentType</h5>
<p>The <code>SetResponseContentType</code> and <code>ResponseContentType</code> APIs replace the previous direct access to the <code>ResponseContentType</code> field.</p>
<h5 id="retrydata">RetryData</h5>
<p>The <code>SetRetryData</code> API replaces the <code>SetRetryData</code> function and direct access to the <code>RetryData</code> field.</p>
<h5 id="markaspushed">MarkAsPushed</h5>
<p>The <code>MarkAsPushed</code> capability has been removed</p>
<h5 id="pushtocore">PushToCore</h5>
<p>The <code>PushToCore</code> API replaces the <code>PushToCoreData</code> function. The API signature has changed. See the <a href="../AppFunctionContextAPI/#pushtocore">PushToCore</a> section for more details.</p>
<h5 id="new-capabilities">New Capabilities</h5>
<p>Some new capabilities have been added to the new <code>AppFunctionContext</code> API. See the <a href="../AppFunctionContextAPI">App Function Context</a> API section for complete details.</p>
<h2 id="app-service-configurable-profiles">App Service Configurable Profiles</h2>
<p>Custom profiles used with App Service Configurable are configuration files. These follow the same migration above for custom  <a href="#configuration">Application Service configuration</a>, except for the Configurable Functions Pipeline items.  The following are the changes for the Configurable Functions Pipeline:</p>
<ol>
<li><code>FilterByValueDescriptor</code> changed to <code>FilterByResourceName</code>. See the <a href="../AppServiceConfigurable/#filterbyresourcename">FilterByResourceName</a> section for details.</li>
<li><code>TransformToXML</code> and <code>TransformToJSON</code> have been collapsed into <code>Transform</code> with additional parameters. See the <a href="../AppServiceConfigurable/#transform">Transform</a> section for more details.</li>
<li><code>CompressWithGZIP</code> and <code>CompressWithZLIB</code> have been collapsed into <code>Compress</code> with additional parameters. See the <a href="../AppServiceConfigurable/#compress">Compress</a> section for more details.</li>
<li><code>EncryptWithAES</code> has been changed to <code>Encrypt</code> with additional parameters. See the <a href="../AppServiceConfigurable/#encrypt">Encrypt</a> section for more details.</li>
<li><code>BatchByCount</code>, <code>BatchByTime</code> and <code>BatchByTimeAndCount</code> have been collapsed into <code>Batch</code> with additional parameters. See the <a href="../AppServiceConfigurable/#batch">Batch</a> section for more details.</li>
<li><code>SetOutputData</code> has been renamed to <code>SetResponseData</code>. See the <a href="../AppServiceConfigurable/#setresponsedata">SetResponseData</a> section for more details.</li>
<li><code>PushToCore</code> parameters have changed. See the <a href="../AppServiceConfigurable/#pushtocore">PushToCore</a> section for more details.</li>
<li><code>HTTPPost</code>, <code>HTTPPostJSON</code>, <code>HTTPPostXML</code>, <code>HTTPPut</code>, <code>HTTPPutJSON</code> and <code>HTTPPutXML</code> have been collapsed into <code>HTTPExport</code> with additional parameters. See the <a href="../AppServiceConfigurable/#httpexport">HTTPExport</a> section for more details.</li>
<li><code>MQTTSecretSend</code> has been renamed to <code>MQTTExport</code> with additional parameters. See the <a href="../AppServiceConfigurable/#mqttexport">MQTTExport</a> section for more details.</li>
<li><code>MarkAsPushed</code> has been removed. The mark as push capability has been removed from Core Data, which this depended on.</li>
<li><code>MQTTSend</code> has been removed. This has been replaced by <code>MQTTExport</code>. See the <a href="../AppServiceConfigurable/#mqttexport">MQTTExport</a> section for more details.</li>
<li><code>FilterByProfileName</code> and <code>FilterBySourceName</code> have been added. See the <a href="../AppServiceConfigurable/#filterbyprofilename">FilterByProfileName</a> and  <a href="../AppServiceConfigurable/#filterbysourcename">FilterBySourceName</a> sections for more details.</li>
<li>Ability to define multiple instances of the same Configurable Pipeline Function has been added. See the <a href="../AppServiceConfigurable/#multiple-instances-of-function">Multiple Instances of Function</a> section for more details.</li>
</ol>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Application Service Configuration" class="md-footer__link md-footer__link--prev" href="../GeneralAppServiceConfig/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Application Service Configuration
            </div>
</div>
</a>
<a aria-label="Next: EdgeX Examples" class="md-footer__link md-footer__link--next" href="../../../examples/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              EdgeX Examples
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright  2022 EdgeX Foundry
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/edgexfoundry" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 480 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg>
</a>
<a class="md-social__link" href="https://twitter.com/edgexfoundry" rel="noopener" target="_blank" title="twitter.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>
</a>
<a class="md-social__link" href="https://www.linkedin.com/company/edgexfoundry" rel="noopener" target="_blank" title="www.linkedin.com">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
<script src="../../../assets/javascripts/version-select.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>
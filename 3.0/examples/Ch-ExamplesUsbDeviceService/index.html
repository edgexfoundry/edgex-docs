
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for use of EdgeX Foundry">
      
      
        <meta name="author" content="Michael Johanson">
      
      
        <link rel="canonical" href="https://edgexfoundry.github.io/edgex-docs/examples/Ch-ExamplesUsbDeviceService/">
      
      <link rel="icon" href="../../assets/logo_edgex.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.8">
    
    
      
        <title>USB Camera Device Service RTSP Streaming Guide - EdgeX Foundry Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.815d1a91.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/version-select.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/branding.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/edgey.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/newexample.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-38531ZZHBN"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-38531ZZHBN",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-38531ZZHBN",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usb-camera-device-service-rtsp-streaming-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="EdgeX Foundry Documentation" class="md-header__button md-logo" aria-label="EdgeX Foundry Documentation" data-md-component="logo">
      
  <img src="../../assets/logo_edgex_white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EdgeX Foundry Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              USB Camera Device Service RTSP Streaming Guide
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/edgexfoundry/edgex-go" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    edgex/edgex-go
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        Introduction
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/" class="md-tabs__link">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../security/Ch-Security/" class="md-tabs__link">
        Security
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../microservices/general/" class="md-tabs__link">
        Microservices
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Examples and Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../api/Ch-APIIntroduction/" class="md-tabs__link">
        API Reference
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../design/Process/" class="md-tabs__link">
        Use Cases & Designs
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../general/Definitions/" class="md-tabs__link">
        Reference
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="EdgeX Foundry Documentation" class="md-nav__button md-logo" aria-label="EdgeX Foundry Documentation" data-md-component="logo">
      
  <img src="../../assets/logo_edgex_white.png" alt="logo">

    </a>
    EdgeX Foundry Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/edgexfoundry/edgex-go" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    edgex/edgex-go
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../V2TopLevelMigration/" class="md-nav__link">
        V2 Migration Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quick-start/" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          Users
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Users" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Users
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedUsers/" class="md-nav__link">
        Getting Started as a User
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedDockerUsers/" class="md-nav__link">
        Getting Started using Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedSnapUsers/" class="md-nav__link">
        Getting Started using Snaps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedDTOValidation/" class="md-nav__link">
        DTO Validation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          Developers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developers" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedDevelopers/" class="md-nav__link">
        Getting Started as a Developer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedGoDevelopers/" class="md-nav__link">
        Getting Started - Go Developers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedCDevelopers/" class="md-nav__link">
        Getting Started - C Developers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedHybrid/" class="md-nav__link">
        Working in a Hybrid Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4_5" type="checkbox" id="__nav_2_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4_5">
          Native Build and Run Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Native Build and Run Guides" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_4_5">
          <span class="md-nav__icon md-icon"></span>
          Native Build and Run Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/native/Ch-BuildRunNative/" class="md-nav__link">
        Native Build and Run
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/native/Ch-BuildRunOnLinuxDistro/" class="md-nav__link">
        Build and Run on Linux on x86/x64
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/native/Ch-BuildRunOnArm32/" class="md-nav__link">
        Build and Run on Linux on ARM 32
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/native/Ch-BuildRunOnWindows/" class="md-nav__link">
        Build and Run on Windows on x86/x64
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/ApplicationFunctionsSDK/" class="md-nav__link">
        Application Functions SDK
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4_7" type="checkbox" id="__nav_2_4_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4_7">
          Device Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Device Services" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_4_7">
          <span class="md-nav__icon md-icon"></span>
          Device Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedSDK/" class="md-nav__link">
        Device Service SDK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedSDK-C/" class="md-nav__link">
        C SDK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedSDK-Go/" class="md-nav__link">
        Golang SDK
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/Ch-GettingStartedUsersNexus/" class="md-nav__link">
        Getting Docker Images from EdgeX Nexus Repository
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_5">
          Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tools" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/tools/Ch-CommandLineInterface/" class="md-nav__link">
        Command Line Interface (CLI)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/tools/Ch-GUI/" class="md-nav__link">
        Graphical User Interface (GUI)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Security" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-Security/" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-SecretStore/" class="md-nav__link">
        Secret Store
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-SecretProviderApi/" class="md-nav__link">
        Secret Provider API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-APIGateway/" class="md-nav__link">
        API Gateway
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-Secure-MessageBus/" class="md-nav__link">
        Secure MessageBus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-Configuring-Add-On-Services/" class="md-nav__link">
        Configuring Add-on Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-Secure-Consul/" class="md-nav__link">
        Secure Consul
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-SecurityIssues/" class="md-nav__link">
        Reporting Security Issues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-AddGatewayUserRemotely/" class="md-nav__link">
        Adding EdgeX API Gateway Users Remotely
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/secrets-config/" class="md-nav__link">
        Secrets config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/secrets-config-proxy/" class="md-nav__link">
        Secrets config proxy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/SeedingServiceSecrets/" class="md-nav__link">
        Seeding Service Secrets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-CORS-Settings/" class="md-nav__link">
        CORS settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/Ch-RemoteDeviceServices/" class="md-nav__link">
        Remote Device Services in Secure Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_15" type="checkbox" id="__nav_3_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_15">
          Threat Models
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Threat Models" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_15">
          <span class="md-nav__icon md-icon"></span>
          Threat Models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threat-models/secret-store/" class="md-nav__link">
        EdgeX Foundry Secret Management Threat Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threat-models/stride-model/EdgeX-STRIDE/" class="md-nav__link">
        EdgeX Foundry STRIDE Threat Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../threat-models/stride-model/EdgeXFoundryThreatReportV2.2/" class="md-nav__link">
        Threat Modeling Report
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Microservices
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Microservices" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Microservices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/general/" class="md-nav__link">
        Cross Cutting Concerns
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Configuration & Registry
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration & Registry" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Configuration & Registry
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/configuration/CommonConfiguration/" class="md-nav__link">
        Common Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/configuration/CommonCommandLineOptions/" class="md-nav__link">
        Common Command Line Options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/configuration/CommonEnvironmentVariables/" class="md-nav__link">
        Common Environment Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/configuration/ConfigurationAndRegistry/" class="md-nav__link">
        Configuration and Registry Providers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/configuration/V2MigrationCommonConfig/" class="md-nav__link">
        V2 Migration of Common Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/general/messagebus/" class="md-nav__link">
        EdgeX MessageBus
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4">
          Core Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Core Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/core/Ch-CoreServices/" class="md-nav__link">
        Core Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/core/data/Ch-CoreData/" class="md-nav__link">
        Core Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/core/metadata/Ch-Metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/core/command/Ch-Command/" class="md-nav__link">
        Command
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/core/database/Ch-Redis/" class="md-nav__link">
        Redis Database
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5">
          Supporting Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Supporting Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Supporting Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/support/Ch-SupportingServices/" class="md-nav__link">
        Supporting Services Microservices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/support/notifications/Ch-AlertsNotifications/" class="md-nav__link">
        Alerts & Notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/support/eKuiper/Ch-eKuiper/" class="md-nav__link">
        eKuiper Rules Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/support/scheduler/Ch-Scheduler/" class="md-nav__link">
        Scheduler
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_6">
          Devices Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Devices Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Devices Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/device/Ch-DeviceServices/" class="md-nav__link">
        Device Services Microservices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/device/Ch-DeviceServiceList/" class="md-nav__link">
        Supported Device Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/device/profile/Ch-DeviceProfile/" class="md-nav__link">
        Device Profile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/device/sdk/Ch-DeviceSDK/" class="md-nav__link">
        Device Services SDK
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6_5" type="checkbox" id="__nav_4_6_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_6_5">
          Device SDK API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Device SDK API" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_6_5">
          <span class="md-nav__icon md-icon"></span>
          Device SDK API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/device/sdk/SDK-Go-API/" class="md-nav__link">
        Go Device SDK API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/device/virtual/Ch-VirtualDevice/" class="md-nav__link">
        Virtual Device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/device/V2Migration/" class="md-nav__link">
        V2 Migration Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" type="checkbox" id="__nav_4_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_7">
          Application Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Application Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          Application Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/ApplicationServices/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/GettingStarted/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/Triggers/" class="md-nav__link">
        Triggers
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7_4" type="checkbox" id="__nav_4_7_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_7_4">
          Application Functions SDK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Application Functions SDK" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_7_4">
          <span class="md-nav__icon md-icon"></span>
          Application Functions SDK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/ApplicationFunctionsSDK/" class="md-nav__link">
        App Functions SDK Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/ApplicationServiceAPI/" class="md-nav__link">
        Application Service API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/AppFunctionContextAPI/" class="md-nav__link">
        App Function Context API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/ErrorHandling/" class="md-nav__link">
        Pipeline Function Error Handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/BuiltIn/" class="md-nav__link">
        Built-In Pipeline Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/AdvancedTopics/" class="md-nav__link">
        Advanced Topics
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/AppServiceConfigurable/" class="md-nav__link">
        App Service Configurable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/GeneralAppServiceConfig/" class="md-nav__link">
        Application Service Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../microservices/application/V2Migration/" class="md-nav__link">
        V2 Migration Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Examples and Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples and Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Examples and Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        EdgeX Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ch-ExamplesVirtualDeviceService/" class="md-nav__link">
        Using the Virtual Device Service
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          USB Camera Device Service RTSP Streaming Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        USB Camera Device Service RTSP Streaming Guide
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-requirements" class="md-nav__link">
    System Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tested-devices" class="md-nav__link">
    Tested Devices
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
    <nav class="md-nav" aria-label="Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-additional-tools" class="md-nav__link">
    Install additional Tools
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#download-and-run-edgex-services" class="md-nav__link">
    Download and Run EdgeX Services
  </a>
  
    <nav class="md-nav" aria-label="Download and Run EdgeX Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-edgex-compose-repository-if-not-already-downloaded" class="md-nav__link">
    Download EdgeX Compose Repository (if not already downloaded)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-service" class="md-nav__link">
    Run the Service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verify-service-and-device-profiles" class="md-nav__link">
    Verify Service and Device Profiles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-devices-using-rest-api" class="md-nav__link">
    Adding Devices using REST API
  </a>
  
    <nav class="md-nav" aria-label="Adding Devices using REST API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#determine-stream-uri-of-camera" class="md-nav__link">
    Determine Stream Uri of Camera
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#play-the-rtsp-stream" class="md-nav__link">
    Play the RTSP stream.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stop-video-streaming" class="md-nav__link">
    Stop Video Streaming
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shutting-down" class="md-nav__link">
    Shutting Down
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optional" class="md-nav__link">
    Optional
  </a>
  
    <nav class="md-nav" aria-label="Optional">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-options" class="md-nav__link">
    Configuration Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurable-rtsp-server-hostname-and-port" class="md-nav__link">
    Configurable RTSP server hostname and port
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamingstatus" class="md-nav__link">
    StreamingStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ch-ExamplesSendingAndConsumingBinary/" class="md-nav__link">
        Sending and Consuming Binary Data From EdgeX Device Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../AppServiceExamples/" class="md-nav__link">
        App Service Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ch-CommandingDeviceThroughRulesEngine/" class="md-nav__link">
        Command Devices with eKuiper Rules Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ch-ExamplesModbusdatatypeconversion/" class="md-nav__link">
        Modbus - Data Type Conversion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ch-OSImageWithEdgeX/" class="md-nav__link">
        Creating an EdgeX OS Image
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_9" type="checkbox" id="__nav_5_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_9">
          Adding a Device
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Adding a Device" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_9">
          <span class="md-nav__icon md-icon"></span>
          Adding a Device
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ch-ExamplesAddingModbusDevice/" class="md-nav__link">
        Modbus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ch-ExamplesAddingSNMPDevice/" class="md-nav__link">
        SNMP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ch-ExamplesAddingMQTTDevice/" class="md-nav__link">
        MQTT
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_10" type="checkbox" id="__nav_5_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_10">
          Walkthrough
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Walkthrough" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_10">
          <span class="md-nav__icon md-icon"></span>
          Walkthrough
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../walk-through/Ch-Walkthrough/" class="md-nav__link">
        EdgeX Demonstration API Walk Through
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../walk-through/Ch-WalkthroughSetup/" class="md-nav__link">
        Setup up your environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../walk-through/Ch-WalkthroughUseCase/" class="md-nav__link">
        Example Use Case
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../walk-through/Ch-WalkthroughDeviceProfile/" class="md-nav__link">
        Defining your device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../walk-through/Ch-WalkthroughDeviceService/" class="md-nav__link">
        Register your device service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../walk-through/Ch-WalkthroughProvision/" class="md-nav__link">
        Provision a device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../walk-through/Ch-WalkthroughCommands/" class="md-nav__link">
        Calling commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../walk-through/Ch-WalkthroughReading/" class="md-nav__link">
        Sending events and reading data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../walk-through/Ch-WalkthroughExporting/" class="md-nav__link">
        Exporting your device data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/Ch-APIIntroduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          Core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core/Ch-APICoreCommand/" class="md-nav__link">
        Core Command
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core/Ch-APICoreData/" class="md-nav__link">
        Core Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core/Ch-APICoreMetadata/" class="md-nav__link">
        Core Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core/Ch-APICoreConfigurationAndRegistry/" class="md-nav__link">
        Configuration and Registry
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          Support
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Support" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Support
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/support/Ch-APISupportNotifications/" class="md-nav__link">
        Support Notifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/support/Ch-APISupportScheduler/" class="md-nav__link">
        Support Scheduler
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_4" type="checkbox" id="__nav_6_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_4">
          Device
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Device" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          Device
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/devices/Ch-APIDeviceSDK/" class="md-nav__link">
        Device Services
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_5" type="checkbox" id="__nav_6_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_5">
          Application
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Application" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Application
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/applications/Ch-APIAppFunctionsSDK/" class="md-nav__link">
        Application Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/applications/Ch-APIRulesEngine/" class="md-nav__link">
        Rules Engine
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Use Cases & Designs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Use Cases & Designs" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Use Cases & Designs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/Process/" class="md-nav__link">
        Use Cases and Design Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/TOC/" class="md-nav__link">
        Use Cases and Design Records
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_3">
          Legacy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Legacy" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Legacy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/legacy-design/" class="md-nav__link">
        Legacy Design Documents
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/legacy-requirements/" class="md-nav__link">
        Legacy Requirements
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general/Definitions/" class="md-nav__link">
        Definitions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general/PlatformRequirements/" class="md-nav__link">
        Platform Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general/ServicePorts/" class="md-nav__link">
        Default Service Ports
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general/ContainerNames/" class="md-nav__link">
        EdgeX Container Names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general/ServiceConfiguration/" class="md-nav__link">
        Service Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../general/EdgeX_CN/" class="md-nav__link">
        Is EdgeX Foundry Cloud Native?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-requirements" class="md-nav__link">
    System Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tested-devices" class="md-nav__link">
    Tested Devices
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
    <nav class="md-nav" aria-label="Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-additional-tools" class="md-nav__link">
    Install additional Tools
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#download-and-run-edgex-services" class="md-nav__link">
    Download and Run EdgeX Services
  </a>
  
    <nav class="md-nav" aria-label="Download and Run EdgeX Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-edgex-compose-repository-if-not-already-downloaded" class="md-nav__link">
    Download EdgeX Compose Repository (if not already downloaded)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-service" class="md-nav__link">
    Run the Service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verify-service-and-device-profiles" class="md-nav__link">
    Verify Service and Device Profiles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-devices-using-rest-api" class="md-nav__link">
    Adding Devices using REST API
  </a>
  
    <nav class="md-nav" aria-label="Adding Devices using REST API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#determine-stream-uri-of-camera" class="md-nav__link">
    Determine Stream Uri of Camera
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#play-the-rtsp-stream" class="md-nav__link">
    Play the RTSP stream.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stop-video-streaming" class="md-nav__link">
    Stop Video Streaming
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shutting-down" class="md-nav__link">
    Shutting Down
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optional" class="md-nav__link">
    Optional
  </a>
  
    <nav class="md-nav" aria-label="Optional">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-options" class="md-nav__link">
    Configuration Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurable-rtsp-server-hostname-and-port" class="md-nav__link">
    Configurable RTSP server hostname and port
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamingstatus" class="md-nav__link">
    StreamingStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/edgexfoundry/edgex-go/edit/master/docs/examples/Ch-ExamplesUsbDeviceService.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="usb-camera-device-service-rtsp-streaming-guide">USB Camera Device Service RTSP Streaming Guide</h1>
<h2 id="overview">Overview</h2>
<p>The EdgeX usb device service is designed for communicating with USB cameras attached to Linux OS platforms. This guide will help configure and build the usb device service and start streaming video from the USB camera.</p>
<p>This service provides the following capabilities:
- API to get camera metadata
- Camera status
- Video stream reference
- Capture video frames and stream them to an RTSP server
- An embedded <a href="https://github.com/aler9/rtsp-simple-server">RTSP server</a></p>
<h2 id="system-requirements">System Requirements</h2>
<ul>
<li>Intel&#8482; Core&#174; processor</li>
<li>Ubuntu 20.04.4 LTS</li>
<li>USB-compliant Camera</li>
</ul>
<p><strong>Time to Complete</strong></p>
<p>10-20 minutes</p>
<p><strong>Other Requirements</strong></p>
<p>You must have administrator (sudo) privileges to execute the user guide commands.</p>
<h2 id="tested-devices">Tested Devices</h2>
<p>The following devices have been tested with EdgeX USB Camera Device Service:<br />
Note: Results may vary based on camera hardware/firmware version and operating system support.</p>
<!-- sorted alphabetically -->
<ul>
<li>AUKEY PC-LM1E Webcam</li>
<li>HP w200 Webcam</li>
<li>Jinpei JW-01B USB FHD Web Computer Camera</li>
<li>Logitech Brio 4K</li>
<li>Logitech C270 HD Webcam</li>
<li>Logitech StreamCam</li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<p>The software has dependencies, including Git, Docker, Docker Compose, and assorted command line tools. Follow the instructions provided here to install any dependency that is not already installed <code>device-usb-camera/docs/setup.md</code>.</p>
<h3 id="install-additional-tools">Install additional Tools</h3>
<p>Install the media utility tool:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>mplayer<span class="w"> </span>v4l-utils
</code></pre></div>
<ul>
<li><code>mplayer</code> is used to view the video stream</li>
<li><code>v4l-utils</code> is used to determine the video stream path of a usb camera</li>
</ul>
<h2 id="download-and-run-edgex-services">Download and Run EdgeX Services</h2>
<h3 id="download-edgex-compose-repository-if-not-already-downloaded">Download EdgeX Compose Repository (if not already downloaded)</h3>
<ol>
<li>
<p>Create a directory for the EdgeX compose repository:
   <div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>~/edgex
</code></pre></div></p>
</li>
<li>
<p>Change into newly created directory:
   <div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/edgex
</code></pre></div></p>
</li>
<li>
<p>Clone the EdgeX compose repository
   <div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/edgexfoundry/edgex-compose.git
</code></pre></div></p>
</li>
</ol>
<h3 id="run-the-service">Run the Service</h3>
<ol>
<li>Navigate to the Edgex compose directory.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/edgex/edgex-compose/compose-builder
</code></pre></div>
<ol>
<li>Run EdgeX with the microservice:  </li>
<li>For non secure mode
    <div class="highlight"><pre><span></span><code>make run ds-usb-camera no-secty
</code></pre></div></li>
<li>For secure mode 
    <div class="highlight"><pre><span></span><code>make run ds-usb-camera
</code></pre></div></li>
</ol>
<h2 id="verify-service-and-device-profiles">Verify Service and Device Profiles</h2>
<ol>
<li>Check the status of the container:</li>
</ol>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>ps
</code></pre></div>
<p>The status column will indicate if the container is running and how long it has been up.</p>
<p>Example Output:</p>
<div class="highlight"><pre><span></span><code>CONTAINER<span class="w"> </span>ID<span class="w">   </span>IMAGE<span class="w">                                         </span>COMMAND<span class="w">                  </span>CREATED<span class="w">       </span>STATUS<span class="w">          </span>PORTS<span class="w">                                                                                         </span>NAMES
f0a1c646f324<span class="w">   </span>edgexfoundry/device-usb-camera:0.0.0-dev<span class="w">                        </span><span class="s2">&quot;/docker-entrypoint.&quot;</span><span class="w">   </span><span class="m">26</span><span class="w"> </span>hours<span class="w"> </span>ago<span class="w">   </span>Up<span class="w"> </span><span class="m">20</span><span class="w"> </span>hours<span class="w">   </span><span class="m">127</span>.0.0.1:8554-&gt;8554/tcp,<span class="w"> </span><span class="m">127</span>.0.0.1:59983-&gt;59983/tcp<span class="w">                         </span>edgex-device-usb-camera<span class="w">                                                                   </span>edgex-device-onvif-camera
</code></pre></div>
<ol>
<li>Check that the device service is added to EdgeX:</li>
</ol>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-s<span class="w"> </span>http://localhost:59881/api/v2/deviceservice/name/device-usb-camera<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>.
</code></pre></div>
<p>Successful:
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;apiVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v2&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1658769423192</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1658872893286</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;04470def-7b5b-4362-9958-bc5ff9f54f1e&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;device-usb-camera&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;baseAddress&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://edgex-device-usb-camera:59983&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;adminState&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;UNLOCKED&quot;</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
   Unsuccessful:
   <div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;apiVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v2&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fail to query device service by name device-usb-camera&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;statusCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="adding-devices-using-rest-api">Adding Devices using REST API</h2>
<p>Devices can either be added to the service by defining them in a static configuration file, discovering devices dynamically, or with the REST API. For this example, the device will be added using the REST API.</p>
<ol>
<li>Run the following command to determine the <code>Path</code> to the usb camera for video streaming:
   <div class="highlight"><pre><span></span><code>v4l2-ctl<span class="w"> </span>--list-devices
</code></pre></div></li>
</ol>
<p>The output should look similar to this:
   <div class="highlight"><pre><span></span><code>NexiGo N930AF FHD Webcam: NexiG (usb-0000:00:14.0-1):
     /dev/video6
     /dev/video7
     /dev/media2
</code></pre></div></p>
<p>For this example, the <code>Path</code> is <code>/dev/video6</code>.</p>
<ol>
<li>Edit the information to appropriately match the camera. The device's protocol properties contain:</li>
<li><code>name</code> is the name of the device. For this example, the name is <code>Camera001</code></li>
<li><code>Path</code> is a file descriptor of camera created by the OS. Use the <code>Path</code> determined in the previous step.</li>
<li><code>AutoStreaming</code> indicates whether the device service should automatically start video streaming for cameras. Default value is false.</li>
</ol>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w">  </span><span class="se">\</span>
<span class="w">   </span>http://localhost:59881/api/v2/device<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>-d<span class="w"> </span><span class="s1">&#39;[</span>
<span class="s1">      {</span>
<span class="s1">      &quot;apiVersion&quot;: &quot;v2&quot;,</span>
<span class="s1">      &quot;device&quot;: {</span>
<span class="s1">         &quot;name&quot;: &quot;Camera001&quot;,</span>
<span class="s1">         &quot;serviceName&quot;: &quot;device-usb-camera&quot;,</span>
<span class="s1">         &quot;profileName&quot;: &quot;USB-Camera-General&quot;,</span>
<span class="s1">         &quot;description&quot;: &quot;My test camera&quot;,</span>
<span class="s1">         &quot;adminState&quot;: &quot;UNLOCKED&quot;,</span>
<span class="s1">         &quot;operatingState&quot;: &quot;UP&quot;,</span>
<span class="s1">         &quot;protocols&quot;: {</span>
<span class="s1">            &quot;USB&quot;: {</span>
<span class="s1">            &quot;CardName&quot;: &quot;NexiGo N930AF FHD Webcam: NexiG&quot;,</span>
<span class="s1">            &quot;Path&quot;: &quot;/dev/video6&quot;,</span>
<span class="s1">            &quot;AutoStreaming&quot;: &quot;false&quot;</span>
<span class="s1">            }</span>
<span class="s1">         }</span>
<span class="s1">      }</span>
<span class="s1">      }</span>
<span class="s1">   ]&#39;</span>
<span class="w">   </span><span class="sb">```</span>

<span class="w">   </span>Example<span class="w"> </span>Output:<span class="w"> </span>
<span class="w">   </span><span class="sb">```</span>bash
<span class="w">   </span><span class="o">[{</span><span class="s2">&quot;apiVersion&quot;</span>:<span class="s2">&quot;v2&quot;</span>,<span class="s2">&quot;statusCode&quot;</span>:201,<span class="s2">&quot;id&quot;</span>:<span class="s2">&quot;fb5fb7f2-768b-4298-a916-d4779523c6b5&quot;</span><span class="o">}]</span>
<span class="w">   </span><span class="sb">```</span>

<span class="c1">## Start Video Streaming</span>
Unless<span class="w"> </span>the<span class="w"> </span>device<span class="w"> </span>service<span class="w"> </span>is<span class="w"> </span>configured<span class="w"> </span>to<span class="w"> </span>stream<span class="w"> </span>video<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>camera<span class="w"> </span>automatically,<span class="w"> </span>a<span class="w"> </span><span class="sb">`</span>StartStreaming<span class="sb">`</span><span class="w"> </span><span class="nb">command</span><span class="w"> </span>must<span class="w"> </span>be<span class="w"> </span>sent<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>device<span class="w"> </span>service.

There<span class="w"> </span>are<span class="w"> </span>two<span class="w"> </span>types<span class="w"> </span>of<span class="w"> </span>options:
-<span class="w"> </span>The<span class="w"> </span>options<span class="w"> </span>start<span class="w"> </span>with<span class="w"> </span><span class="sb">`</span>Input<span class="sb">`</span><span class="w"> </span>prefix<span class="w"> </span>are<span class="w"> </span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>camera,<span class="w"> </span>such<span class="w"> </span>as<span class="w"> </span>specifying<span class="w"> </span>the<span class="w"> </span>image<span class="w"> </span>size<span class="w"> </span>and<span class="w"> </span>pixel<span class="w"> </span>format.
-<span class="w"> </span>The<span class="w"> </span>options<span class="w"> </span>start<span class="w"> </span>with<span class="w"> </span><span class="sb">`</span>Output<span class="sb">`</span><span class="w"> </span>prefix<span class="w"> </span>are<span class="w"> </span>used<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>output<span class="w"> </span>video,<span class="w"> </span>such<span class="w"> </span>as<span class="w"> </span>specifying<span class="w"> </span>aspect<span class="w"> </span>ratio<span class="w"> </span>and<span class="w"> </span>quality.

These<span class="w"> </span>options<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>passed<span class="w"> </span><span class="k">in</span><span class="w"> </span>through<span class="w"> </span>Object<span class="w"> </span>value<span class="w"> </span>when<span class="w"> </span>calling<span class="w"> </span>StartStreaming.

Query<span class="w"> </span>parameter:
-<span class="w"> </span><span class="sb">`</span>device<span class="w"> </span>name<span class="sb">`</span>:<span class="w"> </span>The<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>camera

For<span class="w"> </span>example:
<span class="sb">```</span>shell
curl<span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;StartStreaming&quot;: {</span>
<span class="s1">      &quot;InputImageSize&quot;: &quot;640x480&quot;,</span>
<span class="s1">      &quot;OutputVideoQuality&quot;: &quot;5&quot;</span>
<span class="s1">    }</span>
<span class="s1">}&#39;</span><span class="w"> </span>http://localhost:59882/api/v2/device/name/&lt;device<span class="w"> </span>name&gt;/StartStreaming
</code></pre></div>
<p>Supported Input options:
- <code>InputFps</code>: Ignore original timestamps and instead generate timestamps assuming constant frame rate fps. (default - same as source)
- <code>InputImageSize</code>: Specifies the image size of the camera. The format is <code>wxh</code>, for example "640x480". (default - automatically selected by FFmpeg)
- <code>InputPixelFormat</code>: Set the preferred pixel format (for raw video). (default - automatically selected by FFmpeg)</p>
<p>Supported Output options:
- <code>OutputFrames</code>: Set the number of video frames to output. (default - no limitation on frames)
- <code>OutputFps</code>: Duplicate or drop input frames to achieve constant output frame rate fps. (default - same as InputFps)
- <code>OutputImageSize</code>: Performs image rescaling. The format is <code>wxh</code>, for example "640x480". (default - same as InputImageSize)
- <code>OutputAspect</code>: Set the video display aspect ratio specified by aspect. For example "4:3", "16:9". (default - same as source)
- <code>OutputVideoCodec</code>: Set the video codec. For example "mpeg4", "h264". (default - mpeg4)
- <code>OutputVideoQuality</code>: Use fixed video quality level. Range is a integer number between 1 to 31, with 31 being the worst quality. (default - dynamically set by FFmpeg)</p>
<h3 id="determine-stream-uri-of-camera">Determine Stream Uri of Camera</h3>
<p>The device service provides a way to determine the stream URI of a camera.</p>
<p>Query parameter:
- <code>device name</code>: The name of the camera</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-s<span class="w"> </span>http://localhost:59882/api/v2/device/name/&lt;device<span class="w"> </span>name&gt;/StreamURI<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;&quot;StreamURI: &quot; + &#39;</span>.event.readings<span class="o">[]</span>.value<span class="s1">&#39;&#39;</span>
</code></pre></div>
<p>The response to the above call should look similar to the following:</p>
<div class="highlight"><pre><span></span><code>StreamURI: rtsp://localhost:8554/stream/NexiGo_N930AF_FHD_Webcam__NexiG-20201217010
</code></pre></div>
<h3 id="play-the-rtsp-stream">Play the RTSP stream.</h3>
<p>mplayer can be used to stream. The command follows this format: </p>
<p><code>mplayer rtsp://&lt;IP address&gt;:&lt;port&gt;/&lt;streamname&gt;</code>.</p>
<p>Using the <code>streamURI</code> returned from the previous step, run mplayer:</p>
<div class="highlight"><pre><span></span><code>mplayer<span class="w"> </span>rtsp://localhost:8554/stream/NexiGo_N930AF_FHD_Webcam__NexiG-20201217010
</code></pre></div>
<ul>
<li>To shut down mplayer, use the ctrl-c command.</li>
</ul>
<h3 id="stop-video-streaming">Stop Video Streaming</h3>
<p>To stop the usb camera from live streaming, use the following command:</p>
<p>Query parameter:
- <code>device name</code>: The name of the camera</p>
<p>For example:
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;StopStreaming&quot;: &quot;true&quot;</span>
<span class="s1">}&#39;</span><span class="w"> </span>http://localhost:59882/api/v2/device/name/&lt;device<span class="w"> </span>name&gt;/StopStreaming
</code></pre></div></p>
<h2 id="shutting-down">Shutting Down</h2>
<p>To stop all EdgeX services (containers), execute the <code>make down</code> command:</p>
<ol>
<li>Navigate to the <code>edgex-compose/compose-builder</code> directory.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/edgex/edgex-compose/compose-builder
</code></pre></div>
1. Run this command
   <div class="highlight"><pre><span></span><code>make<span class="w"> </span>down
</code></pre></div>
1. To shut down and delete all volumes, run this command
   <div class="highlight"><pre><span></span><code>make<span class="w"> </span>clean
</code></pre></div></p>
<h2 id="optional">Optional</h2>
<h3 id="configuration-options">Configuration Options</h3>
<h3 id="configurable-rtsp-server-hostname-and-port">Configurable RTSP server hostname and port</h3>
<p>The hostname and port of the RTSP server can be configured in the <code>[Driver]</code> section of the <code>/cmd/res/configuration.toml</code> file. The default vaules can be used for this guide.</p>
<p>For example:
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">[</span><span class="nv">Driver</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">RtspServerHostName = &quot;localhost&quot;</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">RtspTcpPort = &quot;8554&quot;</span>
</code></pre></div></p>
<p align="left">
      <i>Sample: Snippet from configuration.toml</i>
</p>

<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="streamingstatus">StreamingStatus</h3>
<p>To verify the usb camera is set to stream video, use the command below. </p>
<p>Query parameter:
- <code>device name</code>: The name of the camera</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>http://localhost:59882/api/v2/device/name/&lt;device<span class="w"> </span>name&gt;/StreamingStatus<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;&quot;StreamingStatus: &quot; + (.event.readings[].objectValue.IsStreaming|tostring)&#39;</span>
</code></pre></div>
<p>If the StreamingStatus is false, the camera is not configured to stream video. Please try the Start Video Streaming section again.</p>


  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../Ch-ExamplesVirtualDeviceService/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Using the Virtual Device Service" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Using the Virtual Device Service
            </div>
          </div>
        </a>
      
      
        
        <a href="../Ch-ExamplesSendingAndConsumingBinary/" class="md-footer__link md-footer__link--next" aria-label="Next: Sending and Consuming Binary Data From EdgeX Device Services" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Sending and Consuming Binary Data From EdgeX Device Services
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 EdgeX Foundry
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/edgexfoundry" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/edgexfoundry" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.linkedin.com/company/edgexfoundry" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="../../assets/javascripts/version-select.js"></script>
      
    
  </body>
</html>